{"version":3,"file":"main-es2015.js","mappings":"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","sources":["./$_lazy_route_resources|lazy|groupOptions: {}|namespace object","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/edit.service.ts","./src/app/model.ts","./src/main.ts","./src/polyfills.ts"],"sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 98255;\nmodule.exports = webpackEmptyAsyncContext;","import { Observable } from 'rxjs';\r\nimport { Component, OnInit, Inject } from '@angular/core';\r\nimport { Validators, FormBuilder, FormGroup } from '@angular/forms';\r\n\r\nimport { GridDataResult } from '@progress/kendo-angular-grid';\r\nimport { State, process } from '@progress/kendo-data-query';\r\n\r\nimport { Product } from './model';\r\nimport { EditService } from './edit.service';\r\n\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'my-app',\r\n  template: `\r\n      <kendo-grid #grid\r\n          [data]=\"view | async\"\r\n          [height]=\"533\"\r\n          [pageSize]=\"gridState.take\" [skip]=\"gridState.skip\" [sort]=\"gridState.sort\"\r\n          [pageable]=\"true\" [sortable]=\"true\"\r\n          (dataStateChange)=\"onStateChange($event)\"\r\n          (cellClick)=\"cellClickHandler($event)\"\r\n          (cellClose)=\"cellCloseHandler($event)\"\r\n          (cancel)=\"cancelHandler($event)\"\r\n          (save)=\"saveHandler($event)\"\r\n          (remove)=\"removeHandler($event)\"\r\n          (add)=\"addHandler($event)\"\r\n          [navigable]=\"true\"\r\n        >\r\n        <ng-template kendoGridToolbarTemplate>\r\n            <button kendoGridAddCommand>Add new</button>\r\n            <button class='k-button' [disabled]=\"!editService.hasChanges()\" (click)=\"saveChanges(grid);\">Save Changes</button>\r\n            <button class='k-button' [disabled]=\"!editService.hasChanges()\" (click)=\"cancelChanges(grid);\">Cancel Changes</button>\r\n        </ng-template>\r\n        <kendo-grid-column field=\"ProductName\" title=\"Product Name\"></kendo-grid-column>\r\n        <kendo-grid-column field=\"UnitPrice\" editor=\"numeric\" title=\"Price\"></kendo-grid-column>\r\n        <kendo-grid-column field=\"Discontinued\" editor=\"boolean\" title=\"Discontinued\"></kendo-grid-column>\r\n        <kendo-grid-column field=\"UnitsInStock\" editor=\"numeric\" title=\"Units In Stock\"></kendo-grid-column>\r\n        <kendo-grid-command-column title=\"command\" width=\"220\">\r\n            <ng-template kendoGridCellTemplate let-isNew=\"isNew\">\r\n                <button kendoGridRemoveCommand>Remove</button>\r\n                <button kendoGridSaveCommand>Add</button>\r\n                <button kendoGridCancelCommand>Cancel</button>\r\n            </ng-template>\r\n        </kendo-grid-command-column>\r\n      </kendo-grid>\r\n  `\r\n})\r\nexport class AppComponent implements OnInit {\r\n    public view: Observable<GridDataResult>;\r\n    public gridState: State = {\r\n        sort: [],\r\n        skip: 0,\r\n        take: 10\r\n    };\r\n\r\n    public changes: any = {};\r\n\r\n    constructor(private formBuilder: FormBuilder, public editService: EditService) {\r\n    }\r\n\r\n    public ngOnInit(): void {\r\n        this.view = this.editService.pipe(map(data => process(data, this.gridState)));\r\n\r\n        this.editService.read();\r\n    }\r\n\r\n    public onStateChange(state: State) {\r\n        this.gridState = state;\r\n\r\n        this.editService.read();\r\n    }\r\n\r\n    public cellClickHandler({ sender, rowIndex, columnIndex, dataItem, isEdited }) {\r\n        if (!isEdited) {\r\n            sender.editCell(rowIndex, columnIndex, this.createFormGroup(dataItem));\r\n        }\r\n    }\r\n\r\n    public cellCloseHandler(args: any) {\r\n        const { formGroup, dataItem } = args;\r\n\r\n        if (!formGroup.valid) {\r\n             // prevent closing the edited cell if there are invalid values.\r\n            args.preventDefault();\r\n        } else if (formGroup.dirty) {\r\n            this.editService.assignValues(dataItem, formGroup.value);\r\n            this.editService.update(dataItem);\r\n        }\r\n    }\r\n\r\n    public addHandler({ sender }) {\r\n        sender.addRow(this.createFormGroup(new Product()));\r\n    }\r\n\r\n    public cancelHandler({ sender, rowIndex }) {\r\n        sender.closeRow(rowIndex);\r\n    }\r\n\r\n    public saveHandler({ sender, formGroup, rowIndex }) {\r\n        if (formGroup.valid) {\r\n            this.editService.create(formGroup.value);\r\n            sender.closeRow(rowIndex);\r\n        }\r\n    }\r\n\r\n    public removeHandler({ sender, dataItem }) {\r\n        this.editService.remove(dataItem);\r\n\r\n        sender.cancelCell();\r\n    }\r\n\r\n    public saveChanges(grid: any): void {\r\n        grid.closeCell();\r\n        grid.cancelCell();\r\n\r\n        this.editService.saveChanges();\r\n    }\r\n\r\n    public cancelChanges(grid: any): void {\r\n        grid.cancelCell();\r\n\r\n        this.editService.cancelChanges();\r\n    }\r\n\r\n    public createFormGroup(dataItem: any): FormGroup {\r\n        return this.formBuilder.group({\r\n            'ProductID': dataItem.ProductID,\r\n            'ProductName': [dataItem.ProductName, Validators.required],\r\n            'UnitPrice': dataItem.UnitPrice,\r\n            'UnitsInStock': [dataItem.UnitsInStock, Validators.compose([Validators.required, Validators.pattern('^[0-9]{1,3}')])],\r\n            'Discontinued': dataItem.Discontinued\r\n        });\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { HttpClientModule, HttpClientJsonpModule } from '@angular/common/http';\r\n\r\nimport { GridModule } from '@progress/kendo-angular-grid';\r\nimport { DropDownsModule } from '@progress/kendo-angular-dropdowns';\r\nimport { DialogModule } from '@progress/kendo-angular-dialog';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { EditService } from './edit.service';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        AppComponent\r\n    ],\r\n    imports: [\r\n        BrowserModule,\r\n        BrowserAnimationsModule,\r\n        ReactiveFormsModule,\r\n        FormsModule,\r\n        GridModule,\r\n        DropDownsModule,\r\n        DialogModule,\r\n        HttpClientModule,\r\n        HttpClientJsonpModule\r\n    ],\r\n    bootstrap: [AppComponent],\r\n    providers: [EditService]\r\n})\r\nexport class AppModule {}\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { BehaviorSubject, Observable, zip } from 'rxjs';\r\n\r\nimport { map } from 'rxjs/operators';\r\n\r\nconst CREATE_ACTION = 'create';\r\nconst UPDATE_ACTION = 'update';\r\nconst REMOVE_ACTION = 'destroy';\r\n\r\nconst itemIndex = (item: any, data: any[]): number => {\r\n    for (let idx = 0; idx < data.length; idx++) {\r\n        if (data[idx].ProductID === item.ProductID) {\r\n            return idx;\r\n        }\r\n    }\r\n\r\n    return -1;\r\n};\r\n\r\nconst cloneData = (data: any[]) => data.map(item => Object.assign({}, item));\r\n\r\n@Injectable()\r\nexport class EditService extends BehaviorSubject<any[]> {\r\n    private data: any[] = [];\r\n    private originalData: any[] = [];\r\n    private createdItems: any[] = [];\r\n    private updatedItems: any[] = [];\r\n    private deletedItems: any[] = [];\r\n\r\n    constructor(private http: HttpClient) {\r\n        super([]);\r\n    }\r\n\r\n    public read() {\r\n        if (this.data.length) {\r\n            return super.next(this.data);\r\n        }\r\n\r\n        this.fetch()\r\n            .subscribe(data => {\r\n                this.data = data;\r\n                this.originalData = cloneData(data);\r\n                super.next(data);\r\n            });\r\n    }\r\n\r\n    public create(item: any): void {\r\n        this.createdItems.push(item);\r\n        this.data.unshift(item);\r\n\r\n        super.next(this.data);\r\n    }\r\n\r\n    public update(item: any): void {\r\n        if (!this.isNew(item)) {\r\n            const index = itemIndex(item, this.updatedItems);\r\n            if (index !== -1) {\r\n                this.updatedItems.splice(index, 1, item);\r\n            } else {\r\n                this.updatedItems.push(item);\r\n            }\r\n        } else {\r\n            const index = this.createdItems.indexOf(item);\r\n            this.createdItems.splice(index, 1, item);\r\n        }\r\n    }\r\n\r\n    public remove(item: any): void {\r\n        let index = itemIndex(item, this.data);\r\n        this.data.splice(index, 1);\r\n\r\n        index = itemIndex(item, this.createdItems);\r\n        if (index >= 0) {\r\n            this.createdItems.splice(index, 1);\r\n        } else {\r\n            this.deletedItems.push(item);\r\n        }\r\n\r\n        index = itemIndex(item, this.updatedItems);\r\n        if (index >= 0) {\r\n            this.updatedItems.splice(index, 1);\r\n        }\r\n\r\n        super.next(this.data);\r\n    }\r\n\r\n    public isNew(item: any): boolean {\r\n        return !item.ProductID;\r\n    }\r\n\r\n    public hasChanges(): boolean {\r\n        return Boolean(this.deletedItems.length || this.updatedItems.length || this.createdItems.length);\r\n    }\r\n\r\n    public saveChanges(): void {\r\n        if (!this.hasChanges()) {\r\n            return;\r\n        }\r\n\r\n        const completed = [];\r\n        if (this.deletedItems.length) {\r\n            completed.push(this.fetch(REMOVE_ACTION, this.deletedItems));\r\n        }\r\n\r\n        if (this.updatedItems.length) {\r\n            completed.push(this.fetch(UPDATE_ACTION, this.updatedItems));\r\n        }\r\n\r\n        if (this.createdItems.length) {\r\n            completed.push(this.fetch(CREATE_ACTION, this.createdItems));\r\n        }\r\n\r\n        this.reset();\r\n\r\n        zip(...completed).subscribe(() => this.read());\r\n    }\r\n\r\n    public cancelChanges(): void {\r\n        this.reset();\r\n\r\n        this.data = this.originalData;\r\n        this.originalData = cloneData(this.originalData);\r\n        super.next(this.data);\r\n    }\r\n\r\n    public assignValues(target: any, source: any): void {\r\n        Object.assign(target, source);\r\n    }\r\n\r\n    private reset() {\r\n        this.data = [];\r\n        this.deletedItems = [];\r\n        this.updatedItems = [];\r\n        this.createdItems = [];\r\n    }\r\n\r\n    private fetch(action: string = '', data?: any): Observable<any[]> {\r\n        return this.http\r\n            .jsonp(`https://demos.telerik.com/kendo-ui/service/Products/${action}?${this.serializeModels(data)}`, 'callback')\r\n            .pipe(map(res => <any[]>res));\r\n    }\r\n\r\n    private serializeModels(data?: any): string {\r\n        return data ? `&models=${JSON.stringify(data)}` : '';\r\n    }\r\n}\r\n","export class Product {\r\n    public ProductID: number;\r\n    public ProductName = '';\r\n    public Discontinued = false;\r\n    public UnitsInStock: number;\r\n    public UnitPrice = 0;\r\n}\r\n","\r\nimport './polyfills';\r\n\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule, { preserveWhitespaces: true }).then(ref => {\r\n  // Ensure Angular destroys itself on hot reloads.\r\n  if (window['ngRef']) {\r\n    window['ngRef'].destroy();\r\n  }\r\n  window['ngRef'] = ref;\r\n\r\n  // Otherise, log the boot error\r\n}).catch(err => console.error(err));\r\n","\r\n/**\r\n * This file includes polyfills needed by Angular and is loaded before the app.\r\n * You can add your own extra polyfills to this file.\r\n *\r\n * This file is divided into 2 sections:\r\n *   1. Browser polyfills. These are applied before loading ZoneJS and are sorted by browsers.\r\n *   2. Application imports. Files imported after ZoneJS that should be loaded before your main\r\n *      file.\r\n *\r\n * The current setup is for so-called \"evergreen\" browsers; the last versions of browsers that\r\n * automatically update themselves. This includes Safari >= 10, Chrome >= 55 (including Opera),\r\n * Edge >= 13 on the desktop, and iOS 10 and Chrome on mobile.\r\n *\r\n * Learn more in https://angular.io/docs/ts/latest/guide/browser-support.html\r\n */\r\n\r\n/***************************************************************************************************\r\n * BROWSER POLYFILLS\r\n */\r\n\r\n/** IE9, IE10 and IE11 requires all of the following polyfills. **/\r\nimport 'core-js/es6/symbol';\r\nimport 'core-js/es6/object';\r\nimport 'core-js/es6/function';\r\nimport 'core-js/es6/parse-int';\r\nimport 'core-js/es6/parse-float';\r\nimport 'core-js/es6/number';\r\nimport 'core-js/es6/math';\r\nimport 'core-js/es6/string';\r\nimport 'core-js/es6/date';\r\nimport 'core-js/es6/array';\r\nimport 'core-js/es6/regexp';\r\nimport 'core-js/es6/map';\r\nimport 'core-js/es6/set';\r\n\r\n/** IE10 and IE11 requires the following for NgClass support on SVG elements */\r\n// import 'classlist.js';  // Run `npm install --save classlist.js`.\r\n\r\n/** IE10 and IE11 requires the following to support `@angular/animation`. */\r\nimport 'web-animations-js';\r\n\r\n\r\n// polyfill for @angular/animations\r\n// https://github.com/angular/angular/issues/24769\r\nif (!Element.prototype.matches) {\r\n    Element.prototype.matches = (<any> Element).prototype.msMatchesSelector;\r\n}\r\n\r\n/** Evergreen browsers require these. **/\r\nimport 'core-js/es6/reflect';\r\nimport 'core-js/es7/reflect';\r\n\r\n\r\n/** ALL Firefox browsers require the following to support `@angular/animation`. **/\r\n// import 'web-animations-js';  // Run `npm install --save web-animations-js`.\r\n\r\n\r\n\r\n/***************************************************************************************************\r\n * Zone JS is required by Angular itself.\r\n */\r\nimport 'zone.js';  // Included with Angular CLI.\r\n\r\n\r\n/***************************************************************************************************\r\n * APPLICATION IMPORTS\r\n */\r\n\r\n/**\r\n * Date, currency, decimal and percent pipes.\r\n * Needed for: All but Chrome, Firefox, Edge, IE11 and Safari 10\r\n */\r\n// import 'intl';  // Run `npm install --save intl`.\r\n"],"names":[],"sourceRoot":"webpack:///"}